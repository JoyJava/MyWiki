
## 存储引擎

## InnoDB

### 特点

- InnoDB数据存储在表空间（tablespace）中。

- InnoDB 采用MVCC来支持高鬓发，摈弃实现4个标准个例级别。REPEATABLE TABLE（可重复读）并且通过间隙锁防止幻影读，幻影写入

- InnoDB表基于聚簇索引简历的。
  - 聚簇索引对主键查询有很高的性能，**二级索引中必须包含主键列**

- 磁盘读取数据时采用可预测性预读，能够自动在内存中创建hash索引以加速读取操作的自适应Hash索引，以及能够加速插入操作的缓冲器（insert buffer）

## MyISAM索引

### 特点

- 全文索引、压缩、空间函数（GIS）
- 不支持事务和行级锁
- 崩溃无法安全恢复。。。

## 其他存储引擎：

- infobright：列存储
- Groonga：全文索引引擎
- OQGraph：图库
- Q4M：队列实现
- SphinxSE：全文索引
- Spider：数据切分不同的分区
- VPForMySql：垂直分区

## 索引优点

- 减少服务器需要扫描的数据量
- 避免排序和零时表
- 将随机 IO 变为顺序 IO

## 聚簇索引
- 聚簇索引并不是一种单独的索引类型,而是一种数据存储方式
- 当有聚簇索引时,**数据行实际上存放在索引的叶子节点中**的
- 如果没有主键, InnoDB 会选择唯一非空索引代替,如果没有这样的索引, InnoDB 会隐式的定义一个主键来作为聚簇索引

### 聚簇索引特点
- 优点
 - 可以把相关数据保存在一起
 - 访问数据更快,聚簇索引讲索引和数据保存在同一个 B-Tree中
 - 使用覆盖索引扫描查询可以直接使用叶子节点中的主键值
- 缺点
 - 聚簇索引数据最大限制的提高了 IO 密集型应用的性能
 - 插入速度严重依赖于插入顺序
 - 更新聚簇索引列的代价很高,应为会强制 InnoDB 将每个更新的行移动到新的位置
 - 基于聚簇索引的表在插入新行,或者主键被更新导致要移动的行的时候,可能面临**"页分裂"**的问题
 - 数据行比较稀疏(或者由于也分裂导致数据存储不连续)的时候聚簇索引可能导致全表扫描
 - 耳机索引可能比想象中的要更大, 应为在耳机索引的叶子节点包含了引用行的主键列
 - 二级索引访问需要两次索引查询,而不是一次

###





